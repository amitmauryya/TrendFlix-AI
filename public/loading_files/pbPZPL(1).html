<!DOCTYPE html>
<!-- saved from url=(0067)https://cdpn.io/arcs/fullembedgrid/pbPZPL?animations=run&type=embed -->
<html lang="en"><script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/extend-native-history-api.js"></script><script src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/libs/requests.js"></script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  

    <link rel="apple-touch-icon" type="image/png" href="https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png">

    <meta name="apple-mobile-web-app-title" content="CodePen">

    <link rel="icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">

    <link rel="mask-icon" type="image/x-icon" href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-b4b4269c16397ad2f0f7a01bcdf513a1994f4c94b8af2f191c09eb0d601762b1.svg" color="#111">



  
    <script src="./stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js.download"></script>


  <title>Pizza loader</title>

    <link rel="canonical" href="https://codepen.io/arcs/pen/pbPZPL">
  
  
  
  
<style>
body {
  background: #6A1B9A;
  height: 100vh;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
}
</style>

  
  
  
<script bis_use="true" type="text/javascript" charset="utf-8" data-bis-config="[&quot;facebook.com/&quot;,&quot;twitter.com/&quot;,&quot;youtube-nocookie.com/embed/&quot;,&quot;//vk.com/&quot;,&quot;//www.vk.com/&quot;,&quot;linkedin.com/&quot;,&quot;//www.linkedin.com/&quot;,&quot;//instagram.com/&quot;,&quot;//www.instagram.com/&quot;,&quot;//www.google.com/recaptcha/api2/&quot;,&quot;//hangouts.google.com/webchat/&quot;,&quot;//www.google.com/calendar/&quot;,&quot;//www.google.com/maps/embed&quot;,&quot;spotify.com/&quot;,&quot;soundcloud.com/&quot;,&quot;//player.vimeo.com/&quot;,&quot;//disqus.com/&quot;,&quot;//tgwidget.com/&quot;,&quot;//js.driftt.com/&quot;,&quot;friends2follow.com&quot;,&quot;/widget&quot;,&quot;login&quot;,&quot;//video.bigmir.net/&quot;,&quot;blogger.com&quot;,&quot;//smartlock.google.com/&quot;,&quot;//keep.google.com/&quot;,&quot;/web.tolstoycomments.com/&quot;,&quot;moz-extension://&quot;,&quot;chrome-extension://&quot;,&quot;/auth/&quot;,&quot;//analytics.google.com/&quot;,&quot;adclarity.com&quot;,&quot;paddle.com/checkout&quot;,&quot;hcaptcha.com&quot;,&quot;recaptcha.net&quot;,&quot;2captcha.com&quot;,&quot;accounts.google.com&quot;,&quot;www.google.com/shopping/customerreviews&quot;,&quot;buy.tinypass.com&quot;,&quot;gstatic.com&quot;,&quot;secureir.ebaystatic.com&quot;,&quot;docs.google.com&quot;,&quot;contacts.google.com&quot;,&quot;github.com&quot;,&quot;mail.google.com&quot;,&quot;chat.google.com&quot;,&quot;audio.xpleer.com&quot;,&quot;keepa.com&quot;,&quot;static.xx.fbcdn.net&quot;,&quot;sas.selleramp.com&quot;,&quot;1plus1.video&quot;,&quot;console.googletagservices.com&quot;,&quot;//lnkd.demdex.net/&quot;,&quot;//radar.cedexis.com/&quot;,&quot;//li.protechts.net/&quot;,&quot;challenges.cloudflare.com/&quot;,&quot;ogs.google.com&quot;]" src="chrome-extension://eppiocemhmnlbhjplcgkofciiegomcon/executors/traffic.js"></script></head>

<body translate="no" __processed_840fda11-427a-4d65-a864-8a6fc3bce659__="true" bis_status="ok" bis_frame_id="82">
  <canvas id="pizza" width="210" height="210"></canvas>

<!--

  Inspired by http://9gag.com/gag/aVePMd8
  But not quit there yet :)

-->
  
    <script id="rendered-js">
'use strict';

let toRadians = deg => deg * Math.PI / 180;
let map = (val, a1, a2, b1, b2) => b1 + (val - a1) * (b2 - b1) / (a2 - a1);

class Pizza {
  constructor(id) {
    this.canvas = document.getElementById(id);
    this.ctx = this.canvas.getContext('2d');

    this.sliceCount = 6;
    this.sliceSize = 80;

    this.width = this.height = this.canvas.height = this.canvas.width = this.sliceSize * 2 + 50;
    this.center = this.height / 2 | 0;

    this.sliceDegree = 360 / this.sliceCount;
    this.sliceRadians = toRadians(this.sliceDegree);
    this.progress = 0;
    this.cooldown = 10;

  }

  update() {
    let ctx = this.ctx;
    ctx.clearRect(0, 0, this.width, this.height);

    if (--this.cooldown < 0) this.progress += this.sliceRadians * 0.01 + this.progress * 0.07;

    ctx.save();
    ctx.translate(this.center, this.center);

    for (let i = this.sliceCount - 1; i > 0; i--) {

      let rad;
      if (i === this.sliceCount - 1) {
        let ii = this.sliceCount - 1;

        rad = this.sliceRadians * i + this.progress;

        ctx.strokeStyle = '#FBC02D';
        cheese(ctx, rad, .9, ii, this.sliceSize, this.sliceDegree);
        cheese(ctx, rad, .6, ii, this.sliceSize, this.sliceDegree);
        cheese(ctx, rad, .5, ii, this.sliceSize, this.sliceDegree);
        cheese(ctx, rad, .3, ii, this.sliceSize, this.sliceDegree);

      } else rad = this.sliceRadians * i;

      // border
      ctx.beginPath();
      ctx.lineCap = 'butt';
      ctx.lineWidth = 11;
      ctx.arc(0, 0, this.sliceSize, rad, rad + this.sliceRadians);
      ctx.strokeStyle = '#F57F17';
      ctx.stroke();

      // slice
      let startX = this.sliceSize * Math.cos(rad);
      let startY = this.sliceSize * Math.sin(rad);
      let endX = this.sliceSize * Math.cos(rad + this.sliceRadians);
      let endY = this.sliceSize * Math.sin(rad + this.sliceRadians);
      let varriation = [0.9, 0.7, 1.1, 1.2];
      ctx.fillStyle = '#FBC02D';
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.lineTo(startX, startY);
      ctx.arc(0, 0, this.sliceSize, rad, rad + this.sliceRadians);
      ctx.lineTo(0, 0);
      ctx.closePath();
      ctx.fill();
      ctx.lineWidth = .3;
      ctx.stroke();

      // meat
      let x = this.sliceSize * .65 * Math.cos(rad + this.sliceRadians / 2);
      let y = this.sliceSize * .65 * Math.sin(rad + this.sliceRadians / 2);
      ctx.beginPath();
      ctx.arc(x, y, this.sliceDegree / 6, 0, 2 * Math.PI);
      ctx.fillStyle = '#D84315';
      ctx.fill();

    }

    ctx.restore();

    if (this.progress > this.sliceRadians) {
      ctx.translate(this.center, this.center);
      ctx.rotate(-this.sliceDegree * Math.PI / 180);
      ctx.translate(-this.center, -this.center);

      this.progress = 0;
      this.cooldown = 20;
    }

  }}



function cheese(ctx, rad, multi, ii, sliceSize, sliceDegree) {
  let x1 = sliceSize * multi * Math.cos(toRadians(ii * sliceDegree) - .2);
  let y1 = sliceSize * multi * Math.sin(toRadians(ii * sliceDegree) - .2);
  let x2 = sliceSize * multi * Math.cos(rad + .2);
  let y2 = sliceSize * multi * Math.sin(rad + .2);

  let csx = sliceSize * Math.cos(rad);
  let csy = sliceSize * Math.sin(rad);

  var d = Math.sqrt((x1 - csx) * (x1 - csx) + (y1 - csy) * (y1 - csy));
  ctx.beginPath();
  ctx.lineCap = 'round';

  let percentage = map(d, 15, 70, 1.2, 0.2);

  let tx = x1 + (x2 - x1) * percentage;
  let ty = y1 + (y2 - y1) * percentage;
  ctx.moveTo(x1, y1);
  ctx.lineTo(tx, ty);

  tx = x2 + (x1 - x2) * percentage;
  ty = y2 + (y1 - y2) * percentage;
  ctx.moveTo(x2, y2);
  ctx.lineTo(tx, ty);

  ctx.lineWidth = map(d, 0, 100, 20, 2);
  ctx.stroke();
}

let pizza = new Pizza('pizza');

(function update() {
  requestAnimationFrame(update);
  pizza.update();

})();
//# sourceURL=pen.js
  </script>

  
  <script src="./iframeRefreshCSS-44fe83e49b63affec96918c9af88c0d80b209a862cf87ac46bc933074b8c557d.js.download"></script>



</body></html>